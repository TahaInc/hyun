<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>HYUN - iPhone cases</title>
    <link rel="stylesheet" href="style/PufferJacket_Plain.css">
    <link rel="icon" type="image/icon" href="assets/images/icons/logo.ico" />
    <link rel="stylesheet" media="screen" href="https://fontlibrary.org/face/bebas" type="text/css" />
    <link rel="stylesheet" href="assets/cloth-list_assets/normalize.min.css">
    <link rel="stylesheet" href="assets/cloth-list_assets/reset.min.css">

    <link rel="stylesheet" href="assets/women-men_assets/web/assets/mobirise-icons/mobirise-icons.css">
    <link rel="stylesheet" href="assets/women-men_assets/tether/tether.min.css">
    <link rel="stylesheet" href="assets/women-men_assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/women-men_assets/socicon/css/styles.css">
    <link rel="stylesheet" href="assets/women-men_assets/theme/css/style.css">
    <link rel="stylesheet" href="assets/women-men_assets/mobirise/css/mbr-additional.css" type="text/css">

    <script
        src="https://www.paypal.com/sdk/js?client-id=AZxAoRz12hw0vDjsQXXqzUyWOLUdX8Dex6zf-FOXathGAbkg-yBdoiDGgQZp7cLwenaE8tS27DZx43Db&currency=CAD">
        </script>
    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>

    <script language="Javascript">
        window.onload = function () {
            var mobile = (/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent
                .toLowerCase()));
            if (mobile) {
                $(".wrap-drop").css("margin", "0px 0px 0px 100px");
                $("#paypal-button-container").css("padding", "0px 0px 100px 100px");
                alert("Visit this on a computer/bigger screen for a better view");
            } else {
                $(".wrap-drop").css("margin", "0px 0px 0px 0px");
                $("#paypal-button-container").css("padding", "0px 0px 100px 0px");
            }
        }
    </script>

    <script type="text/javascript">
        $(window).on('beforeunload', function () {
            $(window).scrollTop(0);
        });
        $(document).ready(function () {
            $('div.intro_bg').delay(100).fadeOut(500);
        });
        $(document).ready(function () {
            function screenClass() {
                if ($(window).innerWidth() < 1350 && $(window).innerWidth() > 1200) {
                    $('#black').click(function () {
                        $('.big').attr('src', 'assets/images/items/iPhone_case.png');
                    });
                    $('#white').click(function () {
                        $('.big').attr('src', 'assets/images/items/iPhone_case.png');
                    });
                } else if ($(window).innerWidth() <= 1200) {
                    $('#black').click(function () {
                        $('.big').attr('src', 'assets/images/FFFFFF-0.png');
                        $('.underpicture').attr('src',
                            'assets/images/items/iPhone_case.png');
                    });
                    $('#white').click(function () {
                        $('.big').attr('src', 'assets/images/FFFFFF-0.png');
                        $('.underpicture').attr('src',
                            'assets/images/items/iPhone_case.png');
                    });
                } else {
                    $('#black').click(function () {
                        $('.big').attr('src', 'assets/images/items/iPhone_case.png');
                    });
                    $('#white').click(function () {
                        $('.big').attr('src', 'assets/images/items/iPhone_case.png');
                    });
                }
            }
            screenClass();

            $(window).bind('resize', function () {
                screenClass();
                var mobile = (/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(
                    navigator.userAgent
                        .toLowerCase()));
                if (mobile) {
                    alert("Visit this on a computer/bigger screen for a better view");
                } else { }
            });
        });
    </script>
</head>

<body>
    <header>
        <div class="intro_bg"></div>
        <div class="navbar">
            <div class="menu-icon">
                <span class="menu-icon__line menu-icon__line-left"></span>
                <span class="menu-icon__line"></span>
                <span class="menu-icon__line menu-icon__line-right"></span>
            </div>

            <a href="Home.html"><img class="navlogo" src="assets/images/logo.jpg"></a>
        </div>

        <script type="text/javascript">
            var opened = false;
            $('.menu-icon').click(function (e) {
                if ($("body").hasClass("nav-active")) {
                    $(".nav__content").fadeOut(300);
                } else {
                    $(".nav__content").fadeIn(300);
                }
            });
        </script>

        <div class="nav_menu" style=" z-index: 10000000; ">
            <div class="nav__content" style="display: none;">
                <ul class="nav__list">
                    <table class="nav_table" border="0" align="center">
                        <tr>
                            <th>
                                <a href="Men.html">
                                    <li class="nav__list-main" id="men" style="color: black;">Men</li>
                                </a>
                            </th>
                            <th>
                                <a href="Women.html">
                                    <li class="nav__list-main" id="women" style="color: black;">Women</li>
                                </a>
                            </th>
                        </tr>
                        <tr>
                            <td>
                                <a href="Men_Accessories.html">
                                    <li class="nav__list-item" id="menaccessories" style="color: black;">Men Accessories
                                    </li>
                                </a>
                            </td>
                            <td>
                                <a href="Women_Accessories.html">
                                    <li class="nav__list-item" id="womenaccessories" style="color: black;">Women
                                        Accessories
                                    </li>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <a href="Men_T-shirt.html">
                                    <li class="nav__list-item" id="mentshirt" style="color: black;">T-shirts</li>
                                </a>
                            </td>
                            <td>
                                <a href="Women_Blouses.html">
                                    <li class="nav__list-item" id="womenblouses" style="color: black;">Blouses</li>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <a href="Men_Hoodie.html">
                                    <li class="nav__list-item" id="menhoodie" style="color: black;">Hoodies</li>
                                </a>
                            </td>
                            <td>
                                <a href="Women_Hoodie.html">
                                    <li class="nav__list-item" id="womenhoodie" style="color: black;">Hoodies</li>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <a href="Men_Windbreaker.html">
                                    <li class="nav__list-item" id="menjacket" style="color: black;">Jackets</li>
                                </a>
                            </td>
                            <td>
                                <a href="Women_Windbreaker.html">
                                    <li class="nav__list-item" id="womenjacket" style="color: black;">Jackets</li>
                                </a>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <a href="Men_Headwear.html">
                                    <li class="nav__list-item" id="menheadware" style="color: black;">Headware</li>
                                </a>
                            </td>
                            <td>
                                <a href="Women_Headwear.html">
                                    <li class="nav__list-item" id="womenheadweare" style="color: black;">Headware
                                    </li>
                                </a>
                            </td>
                        </tr>
                    </table>
                </ul>
            </div>
        </div>
    </header>

    <main>
        <table style="z-index: 1000; position: absolute;">
            <tr>
                <th style="width: 55%;" class="picturetab">
                    <div class="product-photo">
                        <br />
                        <img class="big" style="z-index: 2; margin: 0px 0px 0px 150px"
                            src="assets/images/items/iPhone_case.png">
                    </div>
                </th>
                <th class="infotab">
                    <div style="right: 10%;">
                        <img class="Plain_text" src="assets/images/iPhone_Case_text.png"
                            style="margin: 0px 0px 20px 0px;">
                        <div class="styled-select slate">
                            <select id="model">
                                <option value="X-Small">iPhone 6</option>
                                <option value="X-Small">iPhone 6 Plus</option>
                                <option value="X-Small">iPhone 5/5s/SE</option>
                                <option value="X-Small">iPhone 6s</option>
                                <option value="X-Small">iPhone 6s Plus</option>
                                <option value="X-Small">iPhone 7</option>
                                <option value="X-Small">iPhone 7 Plus</option>
                                <option value="X-Small">iPhone 8</option>
                                <option value="X-Small">iPhone 8 Plus</option>
                                <option value="X-Small">iPhone X</option>
                                <option value="X-Small">iPhone XR</option>
                                <option value="X-Small">iPhone XS</option>
                                <option value="X-Small">iPhone XS Max</option>
                            </select>
                        </div>
                        <div align="right" style="opacity: 0;">
                            <ul class="product-color" style="z-index: 100;">
                                <li>
                                    <input type="radio" name="color" id="black" style="z-index: 10000;" />
                                    <label for="black"
                                        style="background-color:rgb(22, 22, 22); z-index: 10000;"></label>
                                </li>
                                <li>
                                    <input type="radio" name="color" id="white" style="z-index: 10000;"
                                        checked="checked" />
                                    <label for="white"
                                        style="background-color:rgb(196, 196, 196); z-index: 10000;"></label>
                                </li>
                            </ul>
                        </div>
                        <div id="paypal-button-container" style="padding: 0px 0px 80px 0px; opacity: 1;"></div>
                        <img src="assets/images/FFFFFF-0.png" class="underpicture">

                        <script>
                            paypal.Buttons({
                                createOrder: function (data, actions) {
                                    return actions.order.create({
                                        purchase_units: [{
                                            amount: {
                                                value: '15.00'
                                            }
                                        }]
                                    });
                                },

                                onApprove: function (data, actions) {
                                    return actions.order.capture().then(function (details) {
                                        // Getting the color by checking if the checkbox `black` is checked or not
                                        var color = 'White';
                                        // Finding the size by seeing which size the user has selected from the dropdown.
                                        var model = document.getElementById("model")
                                            .value;

                                        var item = 'iPhone case';

                                        var name = details.payer.name.full_name;

                                        var address = details.payer.address.address_line_1;
                                        //alert('The address is ' + address);

                                        $.post('Payment_Validation.php', {
                                            postitem: item,
                                            postaddress: address,
                                            postname: name,
                                            postcolor: color,
                                            postsize: size,
                                            postid: data.orderID
                                        }, function () { });

                                        return fetch('/paypal-transaction-complete', {
                                            method: 'post',
                                            body: JSON.stringify({
                                                orderID: data.orderID,
                                            })
                                        });
                                    });
                                },

                                style: {
                                    color: 'white',
                                    layout: 'horizontal',
                                    shape: 'rect',
                                    label: 'pay',
                                    height: 55,
                                    tagline: false
                                },

                            }).render('#paypal-button-container');
                        </script>

                        <script type="text/javascript">
                            var PAYPAL_CLIENT = 'PAYPAL_LIVE_CLIENT';
                            var PAYPAL_SECRET = 'PAYPAL_LIVE_SECRET';

                            PAYPAL_OAUTH_API = 'https://api.paypal.com/v1/oauth2/token/';
                            PAYPAL_ORDER_API = 'https://api.paypal.com/v2/checkout/orders/';

                            basicAuth = base64encode(`${PAYPAL_CLIENT}:${PAYPAL_SECRET}`);
                            auth = http.post(PAYPAL_OAUTH_API, {
                                headers: {
                                    Accept: `application/json`,
                                    Authorization: `Basic ${basicAuth}`
                                },
                                data: `grant_type=client_credentials`
                            });

                            function handleRequest(request, response) {

                                orderID = request.body.orderID;

                                details = http.get(PAYPAL_ORDER_API + orderID, {
                                    headers: {
                                        Accept: `application/json`,
                                        Authorization: `Bearer ${auth.access_token}`
                                    }
                                });

                                if (details.error) {
                                    return response.send(500);
                                }

                                if (details.purchase_units[0].amount.value !== '5.77') {
                                    return response.send(400);
                                }

                                database.saveTransaction(orderID);

                                return response.send(200);
                            }
                        </script>
                    </div>
                </th>
            </tr>
        </table>

        <div id='stars'></div>
        <div id='stars2'></div>
        <div id='stars3'></div>

    </main>

    <script type="text/javascript">
        function screenClass() {
            if ($(window).innerWidth() <= 1200) {
                $('.big').attr('src', 'assets/images/FFFFFF-0.png');
                $(".picturetab").css("position", "absolute");
                $(".infotab").css("padding", "100px 10px 0px 0px");
                if ($('input[id=black]:checked').length > 0) {
                    $('.underpicture').attr('src', 'assets/images/items/iPhone_case.png');
                    $(".underpicture").css("display", "block");
                } else {
                    $('.underpicture').attr('src', 'assets/images/items/iPhone_case.png');
                    $(".underpicture").css("display", "block");
                }
            } else {
                $(".picturetab").css("position", "relative");
                $(".infotab").css("padding", "0px 100px 0px 0px");
                if ($('input[id=black]:checked').length > 0) {
                    $('.big').attr('src', 'assets/images/items/iPhone_case.png');
                    $('.underpicture').attr('src', 'assets/images/FFFFFF-0.png');
                    $(".underpicture").css("display", "none");
                } else {
                    $('.big').attr('src', 'assets/images/items/iPhone_case.png');
                    $('.underpicture').attr('src', 'assets/images/FFFFFF-0.png');
                    $(".underpicture").css("display", "none");
                }
            }
        }

        screenClass();

        $(window).bind('resize', function () {
            screenClass();
        });
    </script>

    <script type="text/javascript">
        function DropDown(el) {
            this.dd = el;
            this.placeholder = this.dd.children('span');
            this.opts = this.dd.find('ul.drop li');
            this.val = '';
            this.index = -1;
            this.initEvents();
        }

        DropDown.prototype = {
            initEvents: function () {
                var obj = this;
                obj.dd.on('click', function (e) {
                    e.preventDefault();
                    e.stopPropagation();
                    $(this).toggleClass('active');
                });
                obj.opts.on('click', function () {
                    var opt = $(this);
                    document.getElementById("paypal-button-container").style.opacity = "1";
                    obj.val = opt.text();
                    obj.index = opt.index();
                    obj.placeholder.text(obj.val);
                    opt.siblings().removeClass('selected');
                    opt.filter(':contains("' + obj.val + '")').addClass('selected');
                }).change();
            },
            getValue: function () {
                return this.val;
            },
            getIndex: function () {
                return this.index;
            }
        };

        $(function () {
            var dd1 = new DropDown($('#noble-gases'));
            $(document).click(function () {
                $('.wrap-drop').removeClass('active');
            });
        });
    </script>

    <script type="text/javascript">
        $('a').click(function (e) {
            e.preventDefault();
            newLocation = this.href;
            $('body').fadeOut('slow', newpage);
        });

        function newpage() {
            window.location = newLocation;
        }
    </script>

    <script type="text/javascript">
        var app = function () {
            var body = void 0;
            var menu = void 0;
            var menus = void 0;

            var init = function init() {
                body = document.querySelector('body');
                menu = document.querySelector('.menu-icon');
                menuItems = document.querySelectorAll('.nav__list-main');
                menuTitles = document.querySelectorAll('.nav__list-item');

                applyListeners();
            };

            var applyListeners = function applyListeners() {
                menu.addEventListener('click', function () {
                    return toggleClass(body, 'nav-active');
                });
            };

            var toggleClass = function toggleClass(element, stringClass) {
                if (element.classList.contains(stringClass))
                    element.classList.remove(stringClass);

                else
                    element.classList.add(stringClass)
            };
            init();
        }();
    </script>

    <script type="text/javascript">
        var images = new Array()

        function preload() {
            for (i = 0; i < preload.arguments.length; i++) {
                images[i] = new Image()
                images[i].src = preload.arguments[i]
            }
        }
        preload(
            "assets/images/items/iPhone_case.png",
        )
    </script>

    <script src="assets/women-men_assets/web/assets/jquery/jquery.min.js"></script>
    <script src="assets/women-men_assets/popper/popper.min.js"></script>
    <script src="assets/women-men_assets/tether/tether.min.js"></script>
    <script src="assets/women-men_assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/women-men_assets/smoothscroll/smooth-scroll.js"></script>
    <script src="assets/women-men_assets/parallax/jarallax.min.js"></script>
    <script src="assets/women-men_assets/sociallikes/social-likes.js"></script>
    <script src="assets/women-men_assets/theme/js/script.js"></script>
    <script src="assets/women-men_assets/formoid/formoid.min.js"></script>
</body>

</html>